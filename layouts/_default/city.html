    {{ partial "head.html" . }}

    {{ if eq (getenv "NODE_ENV") "development" }}
      <link rel="preload" src="https://vuejs.org/js/vue.js" crossorigin="anonymous">
    {{ else }}
      <link rel="preload" src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js" crossorigin="anonymous">
    {{ end }}

    <body>
      {{ partial "header.html" . }}

      <div id="app">
        <template v-if="loading">
          carregando...
        </template>
        <template v-else>
          <header class='map-area'>
            <div class="container">
              <h1>{{ "{{ locale.name }}" }}</h1>
            </div>
          </header>

          <section>
            <div class="container">
              <div class="buttons-group">
                <button class="button-icon button--icon button--health button-icon--active">Saúde</button>
                <button class="button-icon button--icon button--education">Educação</button>
                <button class="button-icon button--icon button--social-care">Assistência Social</button>
                <div class="buttons-group__normie-links">
                  <a href="/historico">Ver histórico</a>
                  <a href="/dados" download>Fazer download dos dados</a>
                </div>
              </div>
            </div>
          </section>

          <section>
            <div class="container" v-for="(indicator, index) in locale.indicators">
              <details>
                <summary>
                  {{ "{{ indicator.description }}" }}: <strong>{{ "{{ indicator.values.value_absolute }}" }}</strong>
                </summary>
                <div v-for="(subindicator, index) in indicator.subindicators">
                  <div class="big-number">
                    <strong class="big-number__title">{{ "{{ indicator.values.value_absolute }}" }}</strong>
                    <h2 class="title">{{ "{{ subindicator.classification }}" }}</h2>
                    <template v-for="(subindicatorData, index) in subindicator.data">
                      <div class="infobox">
                        <strong class="infobox__title">3000</strong>
                        <h3>{{ "{{ subindicatorData.description }}" }}</h3>
                        <div class="infobox__icons" style="clip-path: url(#svgPath)"></div>
                        <progress class="infobox__progress" value="40" max="100"></progress>
                        <strong class="infobox__percentage">{{ "{{ subindicatorData.values[0].value_relative }}" }}</strong>
                        <small class="infobox__year">{{ "{{ subindicatorData.values[0].year }}" }}</small>
                      </div>
                    </template>
                  </div>
                </div>
              </details>
          </section>

          <div class="container">
            <section class="download">
              <h2>Download</h2>

              <div class="download__block">
                <p>Faça download dos dados completo que  o Observa coletou e analisou.</p>
                <a href="" download class="button">Documento Completo</a>
              </div>

              <div class="download__block">
                <p>Faça download dos dados sobre Educação resumido de Campo Grande que o Observa coletou e analisou. </p>
                <a href="" download class="button">Documento Completo</a>
              </div>
            </section>
          </div>

          <svg height="0" width="0">
            <defs>
            <clipPath id="svgPath">
            <path id="Layer" fill-rule="evenodd" class="shp2" d="M2.8 4.2C2.8 5.97 4.23 7.4 6 7.4C7.77 7.4 9.2 5.97 9.2 4.2C9.2 2.43 7.77 1 6 1C4.23 1 2.8 2.43 2.8 4.2ZM11.96 18.71L9.56 9.11C9.53 8.98 9.48 8.86 9.41 8.75C9.33 8.63 9.24 8.54 9.14 8.45C9.03 8.37 8.92 8.31 8.79 8.26C8.66 8.22 8.53 8.2 8.4 8.2L7.83 8.2C6.7 8.72 5.35 8.74 4.17 8.2L3.6 8.2C3.47 8.2 3.34 8.22 3.21 8.26C3.08 8.31 2.97 8.37 2.86 8.45C2.76 8.54 2.67 8.63 2.59 8.75C2.52 8.86 2.47 8.98 2.44 9.11L0.04 18.71C-0.15 19.46 0.42 20.2 1.2 20.2L4 20.2L4 25.4C4 26.06 4.54 26.6 5.2 26.6L6.8 26.6C7.46 26.6 8 26.06 8 25.4L8 20.2L10.8 20.2C11.58 20.2 12.15 19.47 11.96 18.71Z" />
            <path id="Layer copy" fill-rule="evenodd" class="shp0" d="M26.8 4.2C26.8 5.97 28.23 7.4 30 7.4C31.77 7.4 33.2 5.97 33.2 4.2C33.2 2.43 31.77 1 30 1C28.23 1 26.8 2.43 26.8 4.2ZM35.96 18.71L33.56 9.11C33.53 8.98 33.48 8.86 33.41 8.75C33.33 8.63 33.24 8.54 33.14 8.45C33.03 8.37 32.92 8.31 32.79 8.26C32.66 8.22 32.53 8.2 32.4 8.2L31.83 8.2C30.7 8.72 29.35 8.74 28.17 8.2L27.6 8.2C27.47 8.2 27.34 8.22 27.21 8.26C27.08 8.31 26.97 8.37 26.86 8.45C26.76 8.54 26.67 8.63 26.59 8.75C26.52 8.86 26.47 8.98 26.44 9.11L24.04 18.71C23.85 19.46 24.42 20.2 25.2 20.2L28 20.2L28 25.4C28 26.06 28.54 26.6 29.2 26.6L30.8 26.6C31.46 26.6 32 26.06 32 25.4L32 20.2L34.8 20.2C35.58 20.2 36.15 19.47 35.96 18.71Z" />
            <path id="Layer copy 2" fill-rule="evenodd" class="shp0" d="M50.8 4.2C50.8 5.97 52.23 7.4 54 7.4C55.77 7.4 57.2 5.97 57.2 4.2C57.2 2.43 55.77 1 54 1C52.23 1 50.8 2.43 50.8 4.2ZM59.96 18.71L57.56 9.11C57.53 8.98 57.48 8.86 57.41 8.75C57.33 8.63 57.24 8.54 57.14 8.45C57.03 8.37 56.92 8.31 56.79 8.26C56.66 8.22 56.53 8.2 56.4 8.2L55.83 8.2C54.7 8.72 53.35 8.74 52.17 8.2L51.6 8.2C51.47 8.2 51.34 8.22 51.21 8.26C51.08 8.31 50.97 8.37 50.86 8.45C50.76 8.54 50.67 8.63 50.59 8.75C50.52 8.86 50.47 8.98 50.44 9.11L48.04 18.71C47.85 19.46 48.42 20.2 49.2 20.2L52 20.2L52 25.4C52 26.06 52.54 26.6 53.2 26.6L54.8 26.6C55.46 26.6 56 26.06 56 25.4L56 20.2L58.8 20.2C59.58 20.2 60.15 19.47 59.96 18.71Z" />
            <path id="Layer copy 3" fill-rule="evenodd" class="shp0" d="M74.8 4.2C74.8 5.97 76.23 7.4 78 7.4C79.77 7.4 81.2 5.97 81.2 4.2C81.2 2.43 79.77 1 78 1C76.23 1 74.8 2.43 74.8 4.2ZM83.96 18.71L81.56 9.11C81.53 8.98 81.48 8.86 81.41 8.75C81.33 8.63 81.24 8.54 81.14 8.45C81.03 8.37 80.92 8.31 80.79 8.26C80.66 8.22 80.53 8.2 80.4 8.2L79.83 8.2C78.7 8.72 77.35 8.74 76.17 8.2L75.6 8.2C75.47 8.2 75.34 8.22 75.21 8.26C75.08 8.31 74.97 8.37 74.86 8.45C74.76 8.54 74.67 8.63 74.59 8.75C74.52 8.86 74.47 8.98 74.44 9.11L72.04 18.71C71.85 19.46 72.42 20.2 73.2 20.2L76 20.2L76 25.4C76 26.06 76.54 26.6 77.2 26.6L78.8 26.6C79.46 26.6 80 26.06 80 25.4L80 20.2L82.8 20.2C83.58 20.2 84.15 19.47 83.96 18.71Z" />
            <path id="Layer copy 4" fill-rule="evenodd" class="shp0" d="M98.8 4.2C98.8 5.97 100.23 7.4 102 7.4C103.77 7.4 105.2 5.97 105.2 4.2C105.2 2.43 103.77 1 102 1C100.23 1 98.8 2.43 98.8 4.2ZM107.96 18.71L105.56 9.11C105.53 8.98 105.48 8.86 105.41 8.75C105.33 8.63 105.24 8.54 105.14 8.45C105.03 8.37 104.92 8.31 104.79 8.26C104.66 8.22 104.53 8.2 104.4 8.2L103.83 8.2C102.7 8.72 101.35 8.74 100.17 8.2L99.6 8.2C99.47 8.2 99.34 8.22 99.21 8.26C99.08 8.31 98.97 8.37 98.86 8.45C98.76 8.54 98.67 8.63 98.59 8.75C98.52 8.86 98.47 8.98 98.44 9.11L96.04 18.71C95.85 19.46 96.42 20.2 97.2 20.2L100 20.2L100 25.4C100 26.06 100.54 26.6 101.2 26.6L102.8 26.6C103.46 26.6 104 26.06 104 25.4L104 20.2L106.8 20.2C107.58 20.2 108.15 19.47 107.96 18.71Z" />
            <path id="Layer copy 5" fill-rule="evenodd" class="shp0" d="M122.8 4.2C122.8 5.97 124.23 7.4 126 7.4C127.77 7.4 129.2 5.97 129.2 4.2C129.2 2.43 127.77 1 126 1C124.23 1 122.8 2.43 122.8 4.2ZM131.96 18.71L129.56 9.11C129.53 8.98 129.48 8.86 129.41 8.75C129.33 8.63 129.24 8.54 129.14 8.45C129.03 8.37 128.92 8.31 128.79 8.26C128.66 8.22 128.53 8.2 128.4 8.2L127.83 8.2C126.7 8.72 125.35 8.74 124.17 8.2L123.6 8.2C123.47 8.2 123.34 8.22 123.21 8.26C123.08 8.31 122.97 8.37 122.86 8.45C122.76 8.54 122.67 8.63 122.59 8.75C122.52 8.86 122.47 8.98 122.44 9.11L120.04 18.71C119.85 19.46 120.42 20.2 121.2 20.2L124 20.2L124 25.4C124 26.06 124.54 26.6 125.2 26.6L126.8 26.6C127.46 26.6 128 26.06 128 25.4L128 20.2L130.8 20.2C131.58 20.2 132.15 19.47 131.96 18.71Z" />
            <path id="Layer copy 6" fill-rule="evenodd" class="shp0" d="M146.8 4.2C146.8 5.97 148.23 7.4 150 7.4C151.77 7.4 153.2 5.97 153.2 4.2C153.2 2.43 151.77 1 150 1C148.23 1 146.8 2.43 146.8 4.2ZM155.96 18.71L153.56 9.11C153.53 8.98 153.48 8.86 153.41 8.75C153.33 8.63 153.24 8.54 153.14 8.45C153.03 8.37 152.92 8.31 152.79 8.26C152.66 8.22 152.53 8.2 152.4 8.2L151.83 8.2C150.7 8.72 149.35 8.74 148.17 8.2L147.6 8.2C147.47 8.2 147.34 8.22 147.21 8.26C147.08 8.31 146.97 8.37 146.86 8.45C146.76 8.54 146.67 8.63 146.59 8.75C146.52 8.86 146.47 8.98 146.44 9.11L144.04 18.71C143.85 19.46 144.42 20.2 145.2 20.2L148 20.2L148 25.4C148 26.06 148.54 26.6 149.2 26.6L150.8 26.6C151.46 26.6 152 26.06 152 25.4L152 20.2L154.8 20.2C155.58 20.2 156.15 19.47 155.96 18.71Z" />
            <path id="Layer copy 7" fill-rule="evenodd" class="shp0" d="M170.8 4.2C170.8 5.97 172.23 7.4 174 7.4C175.77 7.4 177.2 5.97 177.2 4.2C177.2 2.43 175.77 1 174 1C172.23 1 170.8 2.43 170.8 4.2ZM179.96 18.71L177.56 9.11C177.53 8.98 177.48 8.86 177.41 8.75C177.33 8.63 177.24 8.54 177.14 8.45C177.03 8.37 176.92 8.31 176.79 8.26C176.66 8.22 176.53 8.2 176.4 8.2L175.83 8.2C174.7 8.72 173.35 8.74 172.17 8.2L171.6 8.2C171.47 8.2 171.34 8.22 171.21 8.26C171.08 8.31 170.97 8.37 170.86 8.45C170.76 8.54 170.67 8.63 170.59 8.75C170.52 8.86 170.47 8.98 170.44 9.11L168.04 18.71C167.85 19.46 168.42 20.2 169.2 20.2L172 20.2L172 25.4C172 26.06 172.54 26.6 173.2 26.6L174.8 26.6C175.46 26.6 176 26.06 176 25.4L176 20.2L178.8 20.2C179.58 20.2 180.15 19.47 179.96 18.71Z" />
            <path id="Layer copy 8" fill-rule="evenodd" class="shp0" d="M194.8 4.2C194.8 5.97 196.23 7.4 198 7.4C199.77 7.4 201.2 5.97 201.2 4.2C201.2 2.43 199.77 1 198 1C196.23 1 194.8 2.43 194.8 4.2ZM203.96 18.71L201.56 9.11C201.53 8.98 201.48 8.86 201.41 8.75C201.33 8.63 201.24 8.54 201.14 8.45C201.03 8.37 200.92 8.31 200.79 8.26C200.66 8.22 200.53 8.2 200.4 8.2L199.83 8.2C198.7 8.72 197.35 8.74 196.17 8.2L195.6 8.2C195.47 8.2 195.34 8.22 195.21 8.26C195.08 8.31 194.97 8.37 194.86 8.45C194.76 8.54 194.67 8.63 194.59 8.75C194.52 8.86 194.47 8.98 194.44 9.11L192.04 18.71C191.85 19.46 192.42 20.2 193.2 20.2L196 20.2L196 25.4C196 26.06 196.54 26.6 197.2 26.6L198.8 26.6C199.46 26.6 200 26.06 200 25.4L200 20.2L202.8 20.2C203.58 20.2 204.15 19.47 203.96 18.71Z" />
            <path id="Layer copy 9" fill-rule="evenodd" class="shp0" d="M218.8 4.2C218.8 5.97 220.23 7.4 222 7.4C223.77 7.4 225.2 5.97 225.2 4.2C225.2 2.43 223.77 1 222 1C220.23 1 218.8 2.43 218.8 4.2ZM227.96 18.71L225.56 9.11C225.53 8.98 225.48 8.86 225.41 8.75C225.33 8.63 225.24 8.54 225.14 8.45C225.03 8.37 224.92 8.31 224.79 8.26C224.66 8.22 224.53 8.2 224.4 8.2L223.83 8.2C222.7 8.72 221.35 8.74 220.17 8.2L219.6 8.2C219.47 8.2 219.34 8.22 219.21 8.26C219.08 8.31 218.97 8.37 218.86 8.45C218.76 8.54 218.67 8.63 218.59 8.75C218.52 8.86 218.47 8.98 218.44 9.11L216.04 18.71C215.85 19.46 216.42 20.2 217.2 20.2L220 20.2L220 25.4C220 26.06 220.54 26.6 221.2 26.6L222.8 26.6C223.46 26.6 224 26.06 224 25.4L224 20.2L226.8 20.2C227.58 20.2 228.15 19.47 227.96 18.71Z" />
            <path id="Layer copy 10" fill-rule="evenodd" class="shp0" d="M218.8 4.2C218.8 5.97 220.23 7.4 222 7.4C223.77 7.4 225.2 5.97 225.2 4.2C225.2 2.43 223.77 1 222 1C220.23 1 218.8 2.43 218.8 4.2ZM227.96 18.71L225.56 9.11C225.53 8.98 225.48 8.86 225.41 8.75C225.33 8.63 225.24 8.54 225.14 8.45C225.03 8.37 224.92 8.31 224.79 8.26C224.66 8.22 224.53 8.2 224.4 8.2L223.83 8.2C222.7 8.72 221.35 8.74 220.17 8.2L219.6 8.2C219.47 8.2 219.34 8.22 219.21 8.26C219.08 8.31 218.97 8.37 218.86 8.45C218.76 8.54 218.67 8.63 218.59 8.75C218.52 8.86 218.47 8.98 218.44 9.11L216.04 18.71C215.85 19.46 216.42 20.2 217.2 20.2L220 20.2L220 25.4C220 26.06 220.54 26.6 221.2 26.6L222.8 26.6C223.46 26.6 224 26.06 224 25.4L224 20.2L226.8 20.2C227.58 20.2 228.15 19.47 227.96 18.71Z" />
            </clipPath>
            </defs>
          </svg>
        </template>
      </div>

        {{ partial "footer.html" . }}

        {{ if eq (getenv "NODE_ENV") "development" }}
          <script src="https://vuejs.org/js/vue.js"></script>
        {{ else }}
          <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
        {{ end }}

        {{ partial "scripts.html" . }}

        <script>

          const pieCharts = document.querySelectorAll('.js-chart-pie');

          pieCharts.forEach(pieCharts => {
            Highcharts.chart(pieCharts, {
              chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
              },
              title: false,
              tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
              },
              plotOptions: {
                pie: {
                  allowPointSelect: true,
                  cursor: 'pointer',
                  dataLabels: {
                    enabled: false
                  },
                  showInLegend: true
                }
              },
              series: [{
                name: 'Brands',
                colorByPoint: true,
                data: [{
                  name: 'Chrome',
                  y: 61.41,
                  sliced: true,
                  selected: true
                }, {
                  name: 'Internet Explorer',
                  y: 11.84
                }, {
                  name: 'Firefox',
                  y: 10.85
                }, {
                  name: 'Edge',
                  y: 4.67
                }, {
                  name: 'Safari',
                  y: 4.18
                }, {
                  name: 'Other',
                  y: 7.05
                }]
              }]
            });
          });

          const brCharts = document.querySelectorAll('.js-chart-brasil');

          brCharts.forEach(brChart => {
            Highcharts.chart(brChart, {
              chart: {
                type: 'column'
              },
              title: null,
              subtitle: null,
              xAxis: {
                categories: [
                  'Jan',
                  'Feb',
                  'Mar',
                  'Apr',
                  'May',
                  'Jun',
                  'Jul',
                  'Aug',
                  'Sep',
                  'Oct',
                  'Nov',
                  'Dec'
                ],
                crosshair: true
              },
              yAxis: {
                min: 0,
                title: {
                  text: 'Rainfall (mm)'
                }
              },
              tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true
              },
              plotOptions: {
                column: {
                  pointPadding: 0.2,
                  borderWidth: 0
                }
              },
              series: [{
                name: 'Tokyo',
                data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

              }, {
                name: 'New York',
                data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

              }, {
                name: 'London',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]

              }, {
                name: 'Berlin',
                data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]

              }]
            });
          });


          const details = document.querySelectorAll('.js-details-with-chart');
          const charts = document.querySelectorAll('.js-chart');

          details.forEach(detail => {

      // chartContainer.addEventListener('transitionend', () => {
      //   highChart.reflow();
      // }, false);

            detail.addEventListener('transitionend', () => {
              Highcharts.charts.forEach(chart => chart.reflow())
            });
          });

        </script>

    </body>
</html>
