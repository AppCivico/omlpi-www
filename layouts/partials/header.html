<div class="container">
  <header class="main-header {{ if not .IsHome }}  intern-header {{ end }}">
    <a href="{{ .Site.BaseURL }}" class="logo"></a>
    <nav class="main-nav">
      <ul class="menu">
        {{ $firstUrlElement := print "/" (index (split .URL "/") 1)  }}

        {{ with .Site.Menus.header }}
          {{ range . }}

          <!--
            this is a workaround for seting target on hugo menu links
            there is no official way to do it by now.
            @see https://github.com/jpescador/hugo-future-imperfect/issues/100
          -->

          {{ $url := urls.Parse .URL }}
          {{ $baseurl := urls.Parse $.Site.Params.Baseurl }}

          <li class="{{if eq ($firstUrlElement|lower) (.URL) }}active{{end}}">
            <a
              href="{{ .URL }}" {{ if ne $url.Host $baseurl.Host }} target="_blank" {{ end }}>
              {{ .Name }}
            </a>
          </li>
          {{ end }}
        {{ end }}
      </ul>
    </nav>
  </header>
</div>
